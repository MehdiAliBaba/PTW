<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Magasin 1</title>
    <script src="script/aframe.js"></script>
    <script src="script/tp.js"></script>
    <script src="script/price.js"></script>
  </head>
  <body>
  <a-scene>
    <!-- Assets -->
    <a-assets>
      <a-asset-item id="stand1" src="model/stand/stand1.dae" />
      <a-asset-item id="stand2" src="model/stand/stand2.dae" />
      <a-asset-item id="stand3" src="model/stand/stand3.dae" />
      <a-asset-item id="tshirt" src="model/clothe/tshirt.dae" />
      <a-asset-item id="hat" src="model/clothe/ricehat.dae" />
      <a-asset-item id="tennis" src="model/clothe/tennis.dae" />
      <a-asset-item id="trousers" src="model/clothe/trousers.dae" />
      <audio id="street_market" src="music/street_market.mp3" autoplay loop />
      <img id="shop_floor" src="picture/floor.jpg" />
      <img id="sky" src="picture/sky.png" />
      <img id="compass" src="picture/compass.jpg" />
      <img id="red_door" src="picture/red-door.png" />
      <img id="pay" src="picture/pay.png" />
    </a-assets>
    
    <!-- Statics -->
    <a-sky src="#sky"></a-sky>

    <!-- Cameras -->
    <a-camera look-controls wasd-controls id="first_camera" position="0, -1, 0">
      <a-entity
        cursor="fuse: true; fuseTimeout: 500"
        position="0 0 -1"
        geometry="primitive: ring; radiusInner: 0.02; radiusOuter: 0.03"
        material="color: red; shader: flat">
      </a-entity>
    </a-camera>

    <!-- Interactives -->
    <!-- Stand 1 -->
    <a-entity
      position="0, -1, 0">
      <a-collada-model
        src="#stand1">
      </a-collada-model>
      <a-box mag1_stand1
        src="#compass"
        position="0, 5, 0">
      </a-box>
    </a-entity>
    <!-- Stand 2 -->
    <a-entity
      position="-10, -1, -5"
      width="1">
      <a-collada-model
        src="#stand2">
        <a-entity
          position="1, 0, 0">
          <a-collada-model
            src="#hat"
            position="-0.3, 1.2, 0">
          </a-collada-model>
          <a-plane price13-37
            color="yellow"
            width="0.2"
            height="0.2"
            position="0.2, 1.2, 0"
            rotation="-45 0 0">
            <a-text
              id="text13-37"
              height="auto"
              width="auto"
              color="black"
              position="-0.1, 0, 0"
              value="13.37e">
            </a-text>
          </a-plane>
          <a-collada-model
            src="#tshirt"
            position="1.3, 1.2, -0.2"
            rotation="0 90 0">
          </a-collada-model>
          <a-plane price42
            color="yellow"
            width="0.2"
            height="0.2"
            position="1, 1.2, 0"
            rotation="-45 0 0">
            <a-text
              id="text42"
              height="auto"
              width="auto"
              color="black"
              value="42.00e"
              position="-0.1, 0, 0">
            </a-text>
          </a-plane>
        </a-entity>
      </a-collada-model>
      <a-box mag1_stand2
        src="#compass"
        position="0, 3.3, 0">
      </a-box>
     </a-entity>
    <!-- Stand 3 -->
    <a-entity
      position="7, -1, -8">
      <a-collada-model
        src="#stand3">
        <a-entity>
          <a-collada-model
          src="#tennis"
          position="0.5, 1, 0">
          </a-collada-model>
          <a-plane price73-31
            color="yellow"
            width="0.4"
            height="0.4"
            position="0.2, 1, -0.5"
            rotation="-45 0 0">
            <a-text
              id="text73-31"
              height="auto"
              width="2.7"
              color="black"
              value="73.31e"
              position="-0.2, 0, 0">
            </a-text>
          </a-plane>
          <a-collada-model
          src="#trousers"
          position="0.7, 1, 0.2"
          rotation="-90 0 0">
          </a-collada-model>
          <a-plane price99-99
            color="yellow"
            width="0.4"
            height="0.4"
            position="2.4, 0.1, 0"
            rotation="-45 0 0">
            <a-text
              id="text99-99"
              height="auto"
              width="2.7"
              color="black"
              position="-0.2, 0, 0"
              value="99.99e">
            </a-text>
          </a-plane>
        </a-entity>
      </a-collada-model>
      <a-box mag1_stand3
        src="#compass"
        position="0, 3.3, 0">
     </a-entity>
    <!-- Back wall -->
    <a-entity
      position="0, 0, 3">
      <a-plane
        id="back_wall"
        color="#3c3c3c"
        rotation="0 180 0"
        width="2"
        height="3">
        <a-text
          value="Retour"
          color="white"
          position="-1, 1.3, 0.01">
        </a-text>
        <a-image red_door
          src="#red_door"
          height="2.3"
          position="-0.5, 0, 0.01">
        </a-image>
        <a-text
          value="TOTAL :"
          color="white"
          position="0, 1.1, 0.01">
        </a-text>
        <a-text 
          value="0"
          id="to_pay"
          value="0"
          color="white"
          position="0, 0.5, 0.01">
        </a-text>
         <a-image payup
          id="paid"
          src="#pay"
          position="0.5, -0.3, 0.01">
        </a-image>
      </a-plane>
    </a-entity>
    <!-- Ground -->
    <a-plane
      id="ground"
      src="#shop_floor"
      rotation="-90 0 0"
      width="100"
      height="100"
      position="0, -1, 0">
     </a-plane>

    </a-scene>
  </body>
</html>